:root{
    --bg:#3d3d6b;
    --panel:#34345c;
    --ink:#e0e0ff;
    --muted:#b0b3d9;
    --accent:#ff9b6a;
    --edge:#4c4c80;
    --edge-soft:rgba(224,224,255,0.12);
    --chip:#3b3b66;
    --chip-stroke:#5a5a8d;
    --stroke:#545491;
    --box:#3b3b66;
    --ok:#22c55e;
    --warn:#eab308;
  }
  [data-theme="light"]{
    --bg:#ffffff;
    --panel:#f5f5ff;
    --ink:#1d1d35;
    --muted:#5c618c;
    --accent:#d2653b;
    --edge:#d4d7f9;
    --edge-soft:rgba(29,29,53,0.12);
    --chip:#ffffff;
    --chip-stroke:#d8dbff;
    --stroke:#b6bbe6;
    --box:#ffffff;
  }
  html,body{
    margin:0;
    height:100%;
    color:var(--ink);
    background:var(--bg);
    font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    font-size:16px;
    line-height:1.6;
  }
  body{transition:background 0.4s ease,color 0.4s ease;}
  body.modal-open{overflow:hidden;}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
  .app{display:grid;grid-template-columns:minmax(280px,340px) 1fr;grid-template-rows:auto 1fr;height:100%;position:relative}
  .sidebar-left{display:grid;grid-template-rows:minmax(0,auto) 1fr;gap:16px;grid-column:1;grid-row:1 / span 2;min-width:0;height:100vh;overflow:hidden;}
  .sidebar-left > .outline-pane{position:sticky;top:0;max-height:100vh;align-self:start;}
  .sidebar-left > .primary{grid-row:2;overflow:auto;}
  [data-feature-favorites="off"] .layout{display:grid;grid-template-columns:minmax(280px,340px) 1fr;grid-template-rows:auto 1fr;}
  [data-feature-favorites="off"] .favorites-pane{display:none!important;}
  [data-feature-favorites="off"] .canvas-wrap{margin-right:0;}
  .outline-pane{background:var(--panel);border-right:1px solid var(--edge);padding:18px 18px 24px;overflow:auto;box-shadow:4px 0 14px rgba(0,0,0,0.12);display:flex;flex-direction:column;gap:12px;}
  .outline-pane.collapsed{display:none;}
  .outline-pane header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
  .outline-pane h2{margin:0;font-size:16px;}
  .outline-pane button{cursor:pointer;}
  .outline-tree{flex:1;overflow:auto;padding-right:4px;}
  .outline-tree:focus{outline:none;}
  .tree-list{list-style:none;padding-left:0;margin:0;}
  .tree-item{display:flex;align-items:center;gap:6px;border-radius:8px;padding:4px 6px;margin:1px 0;color:var(--ink);cursor:pointer;}
  .tree-item:hover{background-color:rgba(255,255,255,0.08);}
  .tree-item[aria-selected="true"]{background:rgba(255,155,106,0.16);box-shadow:0 0 0 1px rgba(255,155,106,0.24);}
  .tree-toggle{width:18px;height:18px;border-radius:4px;border:1px solid var(--edge);display:inline-flex;align-items:center;justify-content:center;font-size:12px;background:rgba(0,0,0,0.1);flex-shrink:0;}
  .tree-label{flex:1;min-width:0;display:flex;align-items:center;gap:6px;}
  .tree-label span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .tree-children{list-style:none;padding-left:18px;margin:4px 0 0;}
  .tree-item .count{font-size:11px;color:var(--muted);}
  .outline-pane .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;}
  aside{background:var(--panel);border-right:1px solid var(--edge);padding:18px 18px 24px;overflow:auto;box-shadow:4px 0 14px rgba(0,0,0,0.12);}
  /* dark scrollbar */
  aside::-webkit-scrollbar{width:8px;height:8px;background:var(--panel)}
  aside::-webkit-scrollbar-thumb{background:var(--edge);border-radius:4px}
  aside::-webkit-scrollbar-thumb:hover{background:var(--accent)}
  h1{margin:2px 0 4px;font-size:18px}
  .muted{color:var(--muted);font-size:12px}
  #dataFreshness{margin-top:4px;font-size:12px;display:flex;gap:6px;align-items:center;flex-wrap:wrap;}
  #dataFreshness .badge{display:inline-flex;align-items:center;gap:4px;border:1px solid var(--edge);border-radius:999px;padding:2px 8px;font-size:11px;background:rgba(0,0,0,0.1);}
  .row{margin-top:8px}
  /* Arrange the control buttons in a single row with spacing.  This
     allows the sidebar toggle button to be pushed to the far right via
     margin-left:auto on #toggleSidebarBtn. */
  .btn-row{
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    gap:6px;
  }
  .btn{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(0,0,0,0.08));border:1px solid var(--edge);color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer;font-size:14px;margin:6px 6px 0 0;transition:background 0.2s ease,transform 0.15s ease,border-color 0.2s ease,box-shadow 0.2s ease;min-height:36px;}
  .btn .icon{width:16px;height:16px;display:inline-flex;align-items:center;justify-content:center;}
  .btn:hover{background-color:rgba(255,255,255,0.12);border-color:var(--accent);box-shadow:0 4px 12px rgba(0,0,0,0.18);}
  .btn:active{transform:scale(0.97);}
  .pill{display:inline-flex;align-items:center;border:1px solid var(--edge);border-radius:999px;padding:6px 12px;font-size:12px;margin:5px 5px 0 0;background:linear-gradient(135deg,rgba(255,255,255,0.02),rgba(0,0,0,0.1));cursor:pointer;transition:background 0.2s ease,border-color 0.2s ease,transform 0.15s ease;}
  .pill:hover{background-color:rgba(255,255,255,0.12);border-color:var(--accent);transform:translateY(-1px);}
  input[type="search"]{width:100%;padding:12px 14px;border-radius:12px;background:var(--panel);color:var(--ink);border:1px solid var(--edge);outline:none;transition:border 0.2s ease,box-shadow 0.2s ease;}
  input[type="search"]:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,155,106,0.2);}
  .search-wrapper{position:relative;}
  .search-options{display:flex;gap:12px;flex-wrap:wrap;margin-top:6px;font-size:12px;}
  .search-options label{display:flex;align-items:center;gap:6px;cursor:pointer;}
  .recent-searches{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;}
  .recent-pill{background:rgba(255,255,255,0.06);border:1px solid var(--edge);border-radius:999px;padding:4px 10px;font-size:12px;cursor:pointer;}
  .recent-pill:hover{background-color:rgba(255,255,255,0.12);}
  #results{position:absolute;top:calc(100% + 4px);left:0;right:0;max-height:260px;overflow:auto;margin-top:0;background:var(--panel);border:1px solid var(--edge);border-radius:10px;box-shadow:0 14px 30px rgba(0,0,0,0.24);z-index:50;display:none;}
  #results.visible{display:block;}
  #results.persist{display:block;}
  .search-nav{display:flex;align-items:center;gap:6px;padding:6px 8px;border-top:1px solid var(--edge);justify-content:flex-end;background:rgba(0,0,0,0.05);}
  .search-nav span{margin-right:auto;font-size:11px;color:var(--muted);}
  .search-nav button{background:rgba(0,0,0,0.08);border:1px solid var(--edge);border-radius:6px;padding:4px 8px;color:var(--ink);cursor:pointer;font-size:12px;}
  .search-nav button:hover{border-color:var(--accent);}
  .search-nav button:disabled{opacity:0.5;cursor:default;}
  .hit{padding:8px 10px;border-bottom:1px solid var(--edge);background:transparent;display:flex;flex-direction:column;align-items:flex-start;gap:4px;cursor:pointer;transition:background 0.2s ease,color 0.2s ease;}
  .hit:last-child{border-bottom:none;}
  .hit:hover,.hit.active{background-color:rgba(255,255,255,0.12);color:var(--accent);}
  .hit small{color:var(--muted);font-size:11px;}
  #breadcrumb{display:flex;flex-wrap:wrap;align-items:center;gap:6px;margin-top:12px;font-size:13px;line-height:1.4;}
  #breadcrumb .crumb{display:inline-flex;align-items:center;gap:6px;padding:4px 6px;border-radius:6px;color:var(--accent);cursor:pointer;transition:background 0.2s ease,color 0.2s ease;font-weight:500;}
  #breadcrumb .crumb:hover{background-color:rgba(255,255,255,0.12);}
  #breadcrumb .crumb.active{background-color:rgba(255,155,106,0.12);box-shadow:0 0 0 1px rgba(255,155,106,0.25);} 
  #breadcrumb .separator{color:var(--muted);}
  #breadcrumb .ellipsis{cursor:default;color:var(--muted);}
  .canvas-wrap{position:relative;height:100%;background:var(--bg);overflow:hidden;transition:transform 0.3s ease-in-out;grid-column:2;grid-row:1 / span 2;}
  canvas{width:100%;height:100%;display:block;background:var(--bg);cursor:grab;transition:transform 0.3s ease-in-out;touch-action:none;}
  canvas.grabbing{cursor:grabbing}
  .key{display:inline-block;border:1px solid var(--edge);padding:1px 6px;border-radius:4px;margin:0 2px;font-size:11px;color:var(--muted)}

  .details-popover{
    position:fixed;
    min-width:260px;
    max-width:320px;
    max-height:80vh;
    overflow:auto;
    background:var(--panel);
    border:1px solid var(--edge);
    border-radius:12px;
    padding:16px;
    box-shadow:0 20px 40px rgba(0,0,0,0.35);
    display:flex;
    flex-direction:column;
    gap:12px;
    z-index:9000;
  }
  .details-popover[hidden]{display:none;}
  .details-popover h2{margin:0;font-size:16px;line-height:1.4;}
  .details-popover .muted{color:var(--muted);font-size:12px;}
  .details-popover .details-header{display:flex;justify-content:flex-end;}
  .details-popover .details-content{display:flex;flex-direction:column;gap:12px;}
  .details-popover .details-close{background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;padding:4px 6px;border-radius:6px;}
  .details-popover .details-close:focus-visible{outline:2px solid var(--accent);outline-offset:2px;}
  .details-popover .details-close:hover{color:var(--accent);}
  .details-popover .nav-group{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0 0;padding:0;list-style:none;}
  .details-popover .nav-group li{list-style:none;}
  .details-popover .nav-chip,
  .details-popover .nav-link{border:1px solid var(--edge);background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(0,0,0,0.08));color:var(--ink);border-radius:999px;padding:6px 10px;font-size:12px;cursor:pointer;transition:background 0.2s ease,border-color 0.2s ease,transform 0.15s ease;display:inline-flex;align-items:center;gap:6px;}
  .details-popover .nav-chip:hover,
  .details-popover .nav-link:hover{background-color:rgba(255,255,255,0.12);border-color:var(--accent);transform:translateY(-1px);}
  .details-popover .neighbor-section h3{margin:8px 0 0;font-size:13px;}
  .details-popover .neighbor-empty{font-size:13px;color:var(--muted);}
  .details-popover .empty{font-size:13px;color:var(--muted);}

  /* Sidebar collapsed state: hide sidebar and let canvas fill full width */
  .app.collapsed aside{
    width:0;
    padding:0;
    border:none;
    overflow:hidden;
  }
  .app.collapsed .sidebar-left{display:none;}
  .app.collapsed .canvas-wrap{
    grid-column:1 / -1;
  }

  /* Position the sidebar toggle button inline with the other controls.  The
     button aligns to the right end of the control row via automatic
     left margin.  We remove fixed positioning so it does not overlap
     content. */
  #toggleSidebarBtn {
    position:static;
    margin-left:6px;
    background:var(--panel);
    border:1px solid var(--edge);
    color:var(--ink);
    padding:6px 8px;
    border-radius:8px;
    cursor:pointer;
  }
  #toggleSidebarBtn svg{transition:transform 0.2s ease;}
  .app.collapsed #toggleSidebarBtn svg{transform:rotate(180deg);}

  /* Sidebar reopen button: hidden by default and shown only when the
     sidebar is collapsed.  It floats along the left edge and invites
     users to restore the sidebar. */
  #sidebarReopenBtn {
    display:none;
    position:fixed;
    left:0;
    top:50%;
    transform:translate(-50%, -50%);
    background:var(--panel);
    border:1px solid var(--edge);
    color:var(--ink);
    padding:6px 8px;
    border-radius:0 4px 4px 0;
    cursor:pointer;
    z-index:3000;
  }
  .app.collapsed #sidebarReopenBtn{
    display:block;
  }
  /* Tooltip styling */
  #tooltip{
    position:fixed;
    pointer-events:auto;
    background:var(--panel);
    color:var(--ink);
    padding:10px 12px;
    border:1px solid var(--edge);
    border-radius:12px;
    font-size:12px;
    z-index:4000;
    display:none;
    white-space:normal;
    max-width:320px;
    box-shadow:0 12px 32px rgba(0,0,0,0.42);
  }
  #tooltip strong{display:block;font-size:13px;margin-bottom:4px;}
  #tooltip .muted{color:var(--muted);font-size:11px;}
  #tooltip .badge{display:inline-flex;align-items:center;gap:4px;border-radius:999px;padding:2px 8px;font-size:11px;background:rgba(0,0,0,0.15);border:1px solid var(--edge);}
  /* Mini‑map styling */
  #minimap{
    position:absolute;
    bottom:12px;
    right:12px;
    width:180px;
    height:180px;
    background:var(--panel);
    border:1px solid var(--edge);
    border-radius:8px;
    box-shadow:0 2px 6px rgba(0,0,0,0.4);
    cursor:crosshair;
  }
  .minimap-touch-toggle{
    position:absolute;
    left:12px;
    bottom:12px;
    display:none;
    z-index:4100;
    gap:8px;
  }
  .minimap-touch-panel{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(0,0,0,0.55);
    z-index:9600;
    padding:24px;
  }
  .minimap-touch-panel[hidden]{
    display:none;
  }
  .minimap-touch-panel__body{
    background:var(--panel);
    color:var(--ink);
    border:1px solid var(--edge);
    border-radius:18px;
    padding:20px;
    width:min(90vw,360px);
    box-shadow:0 28px 60px rgba(0,0,0,0.45);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:14px;
  }
  .minimap-touch-panel__body canvas{
    width:240px;
    height:240px;
    border:1px solid var(--edge);
    border-radius:14px;
  }
  .touch-preview{
    position:fixed;
    left:50%;
    bottom:18px;
    transform:translateX(-50%);
    background:var(--panel);
    color:var(--ink);
    border:1px solid var(--edge);
    border-radius:18px;
    padding:16px 18px;
    box-shadow:0 20px 42px rgba(0,0,0,0.45);
    min-width:240px;
    max-width:min(92vw,380px);
    z-index:4200;
    display:none;
    gap:10px;
  }
  .touch-preview.visible{display:flex;flex-direction:column;gap:8px;}
  .touch-preview header{display:flex;justify-content:space-between;gap:12px;align-items:flex-start;}
  .touch-preview header h3{margin:0;font-size:16px;font-weight:600;}
  .touch-preview header button{border:none;background:none;color:var(--muted);cursor:pointer;padding:4px;font-size:16px;}
  .touch-preview header button:hover{color:var(--ink);}
  .touch-preview .path{font-size:12px;color:var(--muted);} 
  .touch-preview .tags{font-size:12px;display:flex;flex-wrap:wrap;gap:6px;}
  .touch-preview .tags span{background:rgba(0,0,0,0.12);border:1px solid var(--edge);border-radius:999px;padding:2px 8px;}
  .touch-preview .meta{font-size:12px;color:var(--muted);}
  /* Modal for help dialog */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:flex;align-items:center;justify-content:center;z-index:9500;opacity:0;pointer-events:none;transition:opacity 0.25s ease;}
  .modal.open{opacity:1;pointer-events:auto;}
  .modal .modal-content{background:var(--panel);color:var(--ink);padding:24px;border:1px solid var(--edge);border-radius:16px;box-shadow:0 30px 60px rgba(0,0,0,0.45);max-width:500px;width:90%;outline:none;display:flex;flex-direction:column;gap:12px;}
  .modal .modal-content h2{margin:0;font-size:20px;}
  .modal .modal-content ul{list-style-type:none;padding-left:0;margin:0;display:grid;gap:6px;font-size:14px;}
  .modal .modal-actions{display:flex;justify-content:flex-end;margin-top:12px;}

  /* Style for motion slider label */
  #motionContainer label{
    display:block;
    font-size:12px;
    margin-bottom:4px;
    color:var(--muted);
  }
  #motionContainer input[type="range"]{
    width:100%;
    cursor:pointer;
  }

  /* Subcategory pill styling */
  .sub-pill{
    display:inline-block;
    border:1px solid var(--edge);
    border-radius:999px;
    padding:5px 8px;
    font-size:11px;
    background:var(--panel);
    margin:4px 4px 0 0;
    cursor:pointer;
    transition:background 0.2s ease,border 0.2s ease,transform 0.15s ease;
  }
  .sub-pill:hover{
    border-color:var(--accent);
    background-color:rgba(255,255,255,0.12);
    transform:translateY(-1px);
  }

  .divider{border:none;border-top:1px solid var(--edge);margin:16px 0;opacity:0.6;}
  .section-label{display:flex;align-items:center;justify-content:space-between;margin-top:18px;font-size:12px;color:var(--muted);letter-spacing:0.02em;text-transform:uppercase;}
  .section-label span{display:flex;align-items:center;gap:6px;}
  .section-label .icon{opacity:0.7;}

  .context-menu{position:fixed;z-index:10000;min-width:180px;background:var(--panel);border:1px solid var(--edge);border-radius:8px;box-shadow:0 12px 32px rgba(0,0,0,0.45);display:flex;flex-direction:column;overflow:hidden;opacity:0;visibility:hidden;transform-origin:top left;transition:opacity 0.18s ease, transform 0.18s ease;transform:scale(0.95);}
  .context-menu[aria-hidden="false"]{opacity:1;visibility:visible;transform:scale(1);}
  .context-menu button{background:none;border:none;text-align:left;padding:10px 14px;font-size:13px;color:var(--ink);cursor:pointer;display:flex;justify-content:space-between;align-items:center;}
  .context-menu button:hover{background-color:rgba(255,255,255,0.12);}
  .context-menu button[disabled]{opacity:0.4;cursor:default;}

  #loadingOverlay{position:absolute;inset:0;background:rgba(0,0,0,0.65);color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:12000;font-size:15px;}
  #loadingOverlay[hidden]{display:none;}
  #loadingOverlay .spinner{width:48px;height:48px;border-radius:50%;border:4px solid rgba(255,255,255,0.25);border-top-color:var(--accent);animation:spin 1s linear infinite;}
  @keyframes spin{to{transform:rotate(360deg);}}

  .toast-region{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:8px;z-index:14000;pointer-events:none;}
  .toast{background:var(--panel);border:1px solid var(--edge);border-radius:10px;padding:10px 14px;box-shadow:0 12px 30px rgba(0,0,0,0.35);color:var(--ink);font-size:13px;pointer-events:auto;}
  .toast strong{display:block;font-weight:600;margin-bottom:2px;}

  .overview-badge{display:inline-flex;align-items:center;gap:4px;background:rgba(255,255,255,0.08);border:1px solid var(--accent);border-radius:999px;padding:2px 6px;font-size:10px;text-transform:uppercase;letter-spacing:0.08em;}

  .canvas-actions{position:absolute;top:16px;right:16px;display:flex;flex-direction:column;gap:10px;z-index:60;}
  .fisheye-toggle.active{box-shadow:0 0 0 2px rgba(255,155,106,0.35);}

  .flash-outline{animation:flashNode 1s ease-out 0s 1;}
  @keyframes flashNode{
    0%{box-shadow:0 0 0 0 rgba(255,155,106,0.7);} 
    50%{box-shadow:0 0 0 10px rgba(255,155,106,0);} 
    100%{box-shadow:0 0 0 0 rgba(255,155,106,0);} 
  }

  .hamburger{display:none;align-items:center;justify-content:center;width:42px;height:42px;border-radius:10px;border:1px solid var(--edge);background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(0,0,0,0.08));color:var(--ink);cursor:pointer;transition:background 0.2s ease,transform 0.15s ease;}
  .hamburger:hover{background-color:rgba(255,255,255,0.12);} 
  .hamburger:active{transform:scale(0.97);}

  .tag-list{display:flex;flex-wrap:wrap;gap:6px;margin-top:10px;}
  .tag-list label{display:flex;align-items:center;gap:6px;background:rgba(0,0,0,0.08);border:1px solid var(--edge);border-radius:999px;padding:6px 12px;font-size:12px;cursor:pointer;transition:background 0.2s ease,border 0.2s ease;}
  .tag-list label input{accent-color:var(--accent);}
  .tag-list label:hover{background-color:rgba(255,255,255,0.12);border-color:var(--accent);}

  .dimmed{opacity:0.35;}

  @media (max-width:1300px){
    .app{grid-template-columns:280px minmax(0,1fr) 260px;}
    .outline-pane{display:none;}
  }

  @media (max-width:1100px){
    .app{grid-template-columns:minmax(0,1fr) 260px;}
    aside.primary{position:fixed;z-index:80;inset:0 auto 0 0;width:280px;transform:translateX(-110%);transition:transform 0.3s ease,box-shadow 0.3s ease;box-shadow:4px 0 18px rgba(0,0,0,0.35);}
    .app.show-sidebar aside.primary{transform:translateX(0);}
    .canvas-wrap{grid-column:1/-1;}
    .hamburger{display:flex;position:fixed;top:16px;left:16px;z-index:90;}
    .app.show-sidebar .hamburger{box-shadow:0 8px 20px rgba(0,0,0,0.35);}
    .app.collapsed aside.primary{transform:translateX(-110%);}
  }

  @media (max-width:900px){
    .app{grid-template-columns:1fr;}
    .sidebar-left{position:fixed;inset:0 auto 0 0;width:min(88vw,320px);max-width:320px;grid-template-rows:auto 1fr;background:var(--panel);z-index:120;transform:translateX(-110%);transition:transform 0.3s ease,box-shadow 0.3s ease;box-shadow:4px 0 24px rgba(0,0,0,0.35);}
    .app.show-sidebar .sidebar-left{transform:translateX(0);}
    .app.show-sidebar .canvas-wrap::after{content:"";position:fixed;inset:0;background:rgba(0,0,0,0.45);backdrop-filter:blur(2px);z-index:110;}
    .canvas-wrap{grid-column:1/-1;}
    .hamburger{display:flex;position:fixed;top:16px;left:16px;z-index:130;}
    .app.show-sidebar .hamburger{box-shadow:0 8px 20px rgba(0,0,0,0.35);}
    .details-pane{position:fixed;left:16px;right:16px;bottom:16px;top:auto;width:auto;max-height:50vh;z-index:130;}
  }

  @media (max-width:780px){
    body{font-size:14px;}
    .btn-row{gap:8px;}
    .btn{flex:1 1 calc(50% - 8px);min-height:44px;padding:10px 14px;font-size:15px;}
    .btn .icon{width:18px;height:18px;}
    .canvas-actions{position:fixed;bottom:16px;right:16px;top:auto;flex-direction:row;gap:10px;padding:10px 12px;background:rgba(0,0,0,0.55);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 18px 40px rgba(0,0,0,0.45);}
    .canvas-actions .btn{min-width:72px;min-height:44px;font-size:15px;padding:10px 14px;}
    #minimap{top:16px;bottom:auto;right:16px;width:150px;height:150px;box-shadow:0 12px 28px rgba(0,0,0,0.45);}
    .minimap-touch-toggle{left:16px;bottom:16px;display:flex;}
  }

  @media (max-width:600px){
    #minimap{display:none;}
    .minimap-touch-toggle{display:flex;}
    body{font-size:15px;}
  }

  @media (prefers-reduced-motion:reduce){
    *,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important;scroll-behavior:auto!important;}
  }

  /* The real‑time alert card styles have been removed along with the feature. */
